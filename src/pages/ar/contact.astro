---
import BaseLayout from '../../layouts/BaseLayout.astro';
import { useTranslations, type Lang } from '../../i18n/translations';

const lang: Lang = 'ar';
const t = useTranslations(lang);

const contactInfo = [
  { icon: `<svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" /></svg>`, label: t('contact.emailUs'), value: 'info@travelwithpola.com', href: 'mailto:info@travelwithpola.com' },
  { icon: `<svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" /></svg>`, label: t('contact.callUs'), value: '+20 123 456 7890', href: 'tel:+201234567890' },
  { icon: `<svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24"><path d="M17.47,14.38l-.01-.02c-.18-.09-1.05-.52-1.21-.58-.16-.06-.28-.09-.4.09-.12.18-.46.58-.56.7-.1.12-.21.14-.39.05-.18-.09-.75-.28-1.43-.89-.53-.47-.89-1.05-1-1.23-.1-.18-.01-.28.08-.37.08-.08.18-.21.27-.32.09-.1.12-.18.18-.3.06-.12.03-.22-.02-.31-.05-.09-.4-.97-.55-1.32-.14-.35-.29-.3-.4-.31-.1-.01-.22-.01-.34-.01-.12,0-.31.05-.47.22-.16.18-.62.61-.62,1.49s.64,1.73.73,1.85c.09.12,1.24,1.97,3.05,2.68.43.17.76.27,1.02.35.43.13.82.11,1.13.07.34-.05,1.05-.43,1.2-.85.15-.42.15-.77.1-.85-.05-.07-.17-.12-.35-.21Zm-5.48,7.49h-.01a9.87,9.87,0,0,1-5.03-1.38l-.36-.21-3.74.98.99-3.65-.24-.37a9.86,9.86,0,0,1,15.32-12.39,9.86,9.86,0,0,1-6.93,16.92v.1Zm8.4-18.27A11.82,11.82,0,0,0,2.05,19.16L0,24l4.97-1.3a11.83,11.83,0,0,0,5.65,1.44h.01A11.84,11.84,0,0,0,22.46,5.67,11.75,11.75,0,0,0,20.39,3.6Z"/></svg>`, label: 'واتساب', value: '+20 123 456 7890', href: 'https://wa.me/201234567890' },
  { icon: `<svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" /><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" /></svg>`, label: t('contact.visitUs'), value: 'القاهرة، مصر', href: '#' },
];

const faqs = [
  { question: 'ما هو أفضل وقت لزيارة مصر؟', answer: 'أفضل وقت لزيارة مصر هو من أكتوبر إلى أبريل عندما تكون درجات الحرارة معتدلة. الصيف (مايو-سبتمبر) يمكن أن يكون حارًا جدًا، خاصة في صعيد مصر.' },
  { question: 'هل أحتاج تأشيرة لزيارة مصر؟', answer: 'معظم الجنسيات يمكنها الحصول على تأشيرة عند الوصول في المطارات المصرية مقابل 25 دولار أمريكي. بعض الجنسيات يمكنها أيضًا التقدم للحصول على تأشيرة إلكترونية عبر الإنترنت.' },
  { question: 'هل مصر آمنة للسياح؟', answer: 'نعم، مصر آمنة بشكل عام للسياح. المناطق السياحية محمية جيدًا والمصريون معروفون بكرم ضيافتهم.' },
  { question: 'ماذا يجب أن أحزم لمصر؟', answer: 'الملابس الخفيفة والقابلة للتنفس ضرورية. نوصي بملابس محتشمة (تغطي الكتفين والركبتين) لزيارات المعابد. لا تنسَ واقي الشمس والنظارات الشمسية والأحذية المريحة.' },
];
---

<BaseLayout title={t('contact.title')} description="تواصل معنا للتخطيط لمغامرتك المصرية. البريد الإلكتروني أو الهاتف أو واتساب متاحون." lang={lang}>
  <!-- Hero -->
  <section class="relative pt-32 pb-20 overflow-hidden">
    <div class="absolute inset-0">
      <div class="absolute inset-0 bg-gradient-to-b from-nile-900/90 via-nile-800/80 to-papyrus-50 z-10"></div>
      <img src="/images/contact-hero.svg" alt="المناظر الطبيعية المصرية" class="w-full h-full object-cover" loading="eager" />
    </div>
    <div class="relative z-20 max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
      <span class="font-accent text-sand-300 text-xl italic mb-4 block">{t('contact.subtitle')}</span>
      <h1 class="font-display text-4xl md:text-5xl lg:text-6xl font-bold text-white mb-6 text-shadow-lg">{t('contact.title')}</h1>
      <p class="text-xl text-stone-200 max-w-2xl mx-auto">{t('contact.ready')}</p>
    </div>
  </section>
  
  <!-- Contact Grid -->
  <section class="py-20 bg-papyrus-50">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="grid lg:grid-cols-3 gap-12">
        <!-- Contact Info -->
        <div class="lg:col-span-1 animate-on-scroll lg:order-2">
          <h2 class="font-display text-2xl font-semibold text-stone-800 mb-6">{t('contact.getInTouch')}</h2>
          <p class="text-stone-600 mb-8">{t('contact.questions')}</p>
          <div class="space-y-6">
            {contactInfo.map(info => (
              <a href={info.href} target={info.href.startsWith('http') ? '_blank' : undefined} rel={info.href.startsWith('http') ? 'noopener' : undefined} class="flex items-start p-4 bg-white rounded-xl shadow-md hover:shadow-lg transition-shadow group">
                <div class="w-12 h-12 bg-nile-100 rounded-xl flex items-center justify-center text-nile-600 group-hover:bg-nile-600 group-hover:text-white transition-colors flex-shrink-0"><Fragment set:html={info.icon} /></div>
                <div class="mr-4"><div class="text-sm text-stone-500">{info.label}</div><div class="font-medium text-stone-800">{info.value}</div></div>
              </a>
            ))}
          </div>
          <div class="mt-8 p-6 bg-white rounded-xl shadow-md">
            <h3 class="font-display text-lg font-semibold text-stone-800 mb-4">{t('contact.officeHours')}</h3>
            <ul class="space-y-2 text-stone-600">
              <li class="flex justify-between"><span>الأحد - الخميس</span><span class="font-medium">9:00 ص - 6:00 م</span></li>
              <li class="flex justify-between"><span>الجمعة</span><span class="font-medium">مغلق</span></li>
              <li class="flex justify-between"><span>السبت</span><span class="font-medium">10:00 ص - 4:00 م</span></li>
            </ul>
            <p class="mt-4 text-sm text-stone-500">{t('contact.whatsappAvailable')}</p>
          </div>
        </div>
        
        <!-- Contact Form -->
        <div class="lg:col-span-2 animate-on-scroll lg:order-1" style="animation-delay: 200ms" id="book">
          <div class="bg-white rounded-2xl shadow-xl p-8">
            <h2 class="font-display text-2xl font-semibold text-stone-800 mb-2">{t('contact.sendMessage')}</h2>
            <p class="text-stone-600 mb-8">{t('contact.formDesc')}</p>
            <form name="contact-ar" method="POST" data-netlify="true" netlify-honeypot="bot-field">
              <input type="hidden" name="form-name" value="contact-ar" />
              <p class="hidden"><label>لا تملأ هذا: <input name="bot-field" /></label></p>
              <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div><label for="name" class="form-label">{t('form.fullName')} *</label><input type="text" id="name" name="name" required class="form-input" placeholder="اسمك" /></div>
                <div><label for="email" class="form-label">{t('form.email')} *</label><input type="email" id="email" name="email" required class="form-input" placeholder="your@email.com" /></div>
                <div><label for="phone" class="form-label">{t('form.phone')}</label><input type="tel" id="phone" name="phone" class="form-input" placeholder="+20 123 456 7890" /></div>
                <div><label for="subject" class="form-label">{t('contact.subject')} *</label>
                  <select id="subject" name="subject" required class="form-input">
                    <option value="">{t('contact.selectSubject')}</option>
                    <option value="general">{t('contact.subjectGeneral')}</option>
                    <option value="packages">{t('contact.subjectPackages')}</option>
                    <option value="cruises">{t('contact.subjectCruises')}</option>
                    <option value="groups">{t('contact.subjectGroups')}</option>
                    <option value="custom">{t('contact.subjectCustom')}</option>
                  </select>
                </div>
              </div>
              <div class="mt-6"><label for="message" class="form-label">{t('contact.yourMessage')} *</label><textarea id="message" name="message" rows="5" required class="form-input resize-none" placeholder={t('contact.messagePlaceholder')}></textarea></div>
              <div class="mt-8"><button type="submit" class="w-full btn-primary py-4 text-lg">{t('contact.send')}</button></div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </section>
  
  <!-- FAQs -->
  <section class="py-20 bg-white">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center mb-12 animate-on-scroll">
        <span class="section-subtitle">{t('contact.faqSubtitle')}</span>
        <h2 class="section-title text-3xl md:text-4xl">{t('contact.faq')}</h2>
      </div>
      <div class="space-y-4">
        {faqs.map((faq, i) => (
          <details class="bg-papyrus-50 rounded-xl p-6 group animate-on-scroll" style={`animation-delay: ${i * 100}ms`}>
            <summary class="flex items-center justify-between cursor-pointer list-none font-display text-lg font-semibold text-stone-800">
              {faq.question}
              <svg class="w-5 h-5 text-nile-600 transform group-open:rotate-180 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" /></svg>
            </summary>
            <p class="mt-4 text-stone-600 leading-relaxed">{faq.answer}</p>
          </details>
        ))}
      </div>
    </div>
  </section>
</BaseLayout>

